<div class="container mt-4">
    <h2>File Upload Example</h2>
    <form>
        <div class="mb-3">
            <label for="formFile" class="form-label">Upload a file</label>
            <input class="form-control" type="file" id="formFile" (change)="onFileSelected($event)">
        </div>
        <button type="button" class="btn btn-primary" (click)="onUpload()">Upload</button>
    </form>

    <!-- Display selected file details -->
    <div>
        <p class="mt-3">Selected File: {{ selectedFile?.name }}</p>
    </div>
</div>

<div class="container mt-4">
    <div class="example-container mat-elevation-z8">
        @if (isLoadingResults) {
        <div class="example-loading-shade">
            @if (isLoadingResults) {
            <mat-spinner></mat-spinner>
            }
            @if (isRateLimitReached) {
            <div class="example-rate-limit-reached">
                GitHub's API rate limit has been reached. It will be reset in one minute.
            </div>
            }
        </div>
        }

        <div class="example-table-container">

            <table mat-table [dataSource]="data" class="example-table">

                <!-- Title Column -->
                <ng-container matColumnDef="file_name">
                    <th mat-header-cell *matHeaderCellDef>File Name</th>
                    <td mat-cell *matCellDef="let row">{{row}}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>

        <!-- <mat-paginator [pageSize]="paginatorPageSize" [pageSizeOptions]="paginatorPageSizeOptions"
            (page)="pageEvent($event)" showFirstLastButtons>
        </mat-paginator> -->
    </div>
</div>